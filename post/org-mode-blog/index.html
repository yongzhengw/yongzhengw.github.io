<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Org-mode Hugo - Even - A super concise theme for Hugo</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Jim" />
  <meta name="description" content="1. 安装 Hugo 参考: Quick Start 切换主题 clone 主题到 themes 下 修改 `config.toml`, `theme = &amp;ldquo;ananke&amp;rdquo;` 即可 参考: Step 3: Add a Theme git submodule add https://github.com/olOwOlo/hugo-theme-even themes/even Hugo -&amp;gt; GitHub Page 最终目录结构 org.wenyongzheng.com/ #全部文件 yongzhengw.github.io #Hugo project content/posts(ox-hugo export 放置生成的 markdown 文件，" />

  <meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.49" />


<link rel="canonical" href="http://localhost:1313/post/org-mode-blog/" />

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">







<link href="/dist/even.min.css?v=3.2.0" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">




<meta property="og:title" content="Org-mode Hugo" />
<meta property="og:description" content="1. 安装 Hugo 参考: Quick Start 切换主题 clone 主题到 themes 下 修改 `config.toml`, `theme = &ldquo;ananke&rdquo;` 即可 参考: Step 3: Add a Theme git submodule add https://github.com/olOwOlo/hugo-theme-even themes/even Hugo -&gt; GitHub Page 最终目录结构 org.wenyongzheng.com/ #全部文件 yongzhengw.github.io #Hugo project content/posts(ox-hugo export 放置生成的 markdown 文件，" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/post/org-mode-blog/" /><meta property="article:published_time" content="2018-10-06T16:13:22&#43;08:00"/>
<meta property="article:modified_time" content="2018-10-06T16:13:22&#43;08:00"/>

<meta itemprop="name" content="Org-mode Hugo">
<meta itemprop="description" content="1. 安装 Hugo 参考: Quick Start 切换主题 clone 主题到 themes 下 修改 `config.toml`, `theme = &ldquo;ananke&rdquo;` 即可 参考: Step 3: Add a Theme git submodule add https://github.com/olOwOlo/hugo-theme-even themes/even Hugo -&gt; GitHub Page 最终目录结构 org.wenyongzheng.com/ #全部文件 yongzhengw.github.io #Hugo project content/posts(ox-hugo export 放置生成的 markdown 文件，">


<meta itemprop="dateModified" content="2018-10-06T16:13:22&#43;08:00" />
<meta itemprop="wordCount" content="959">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Org-mode Hugo"/>
<meta name="twitter:description" content="1. 安装 Hugo 参考: Quick Start 切换主题 clone 主题到 themes 下 修改 `config.toml`, `theme = &ldquo;ananke&rdquo;` 即可 参考: Step 3: Add a Theme git submodule add https://github.com/olOwOlo/hugo-theme-even themes/even Hugo -&gt; GitHub Page 最终目录结构 org.wenyongzheng.com/ #全部文件 yongzhengw.github.io #Hugo project content/posts(ox-hugo export 放置生成的 markdown 文件，"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Even</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Even</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Org-mode Hugo</h1>

      <div class="post-meta">
        <span class="post-time"> 2018-10-06 </span>
        
        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#1-dot-安装-hugo">1. 安装 Hugo</a>
<ul>
<li><a href="#切换主题">切换主题</a></li>
<li><a href="#hugo-github-page">Hugo -&gt; GitHub Page</a>
<ul>
<li><a href="#最终目录结构">最终目录结构</a></li>
<li><a href="#error-repository-not-found">Error: Repository not found</a></li>
</ul></li>
</ul></li>
<li><a href="#2-dot-安装-ox-hugo">2. 安装 ox-hugo</a></li>
<li><a href="#ox-hugo-用法">ox-hugo 用法</a>
<ul>
<li><a href="#添加目录树">添加目录树</a>
<ul>
<li><a href="#设置使用-org-生成-toc">设置使用 Org 生成 TOC</a></li>
</ul></li>
<li><a href="#ox-hugo-基本用法">ox-hugo 基本用法</a></li>
<li><a href="#指令-日期等">指令，日期等</a></li>
<li><a href="#部分不导出-比如密钥"><span class="org-todo todo TODO">TODO</span> 部分不导出，比如密钥</a></li>
<li><a href="#新建-org-file-自动插入">新建 org-file 自动插入</a></li>
<li><a href="#yasnippet">YASnippet</a></li>
<li><a href="#浏览记录设置">浏览记录设置</a></li>
<li><a href="#this-is-a-headline">This is a headline</a></li>
<li><a href="#main-section">Main Section</a></li>
<li><a href="#ox-hugo-调-bug">ox-hugo 调 bug</a></li>
<li><a href="#ox-hugo-与-主题目录冲突">ox-hugo 与 主题目录冲突</a>
<ul>
<li><a href="#修改-ox-hugo-默认-export-path"><a href="https://ox-hugo.scripter.co/doc/hugo-section/#default">修改 ox-hugo 默认 export path</a></a></li>
</ul></li>
</ul></li>
<li><a href="#写作的完整流程">写作的完整流程</a></li>
</ul></li>
</ul>
</nav>
  </div>
</div>

    
    

    
    <div class="post-content">
      

<h2 id="1-dot-安装-hugo">1. 安装 Hugo</h2>

<p>参考: <a href="https://gohugo.io/getting-started/quick-start/">Quick Start</a></p>

<h3 id="切换主题">切换主题</h3>

<ol>
<li>clone 主题到 themes 下</li>
<li>修改 `config.toml`, `theme = &ldquo;ananke&rdquo;` 即可</li>
</ol>

<p>参考: <a href="https://gohugo.io/getting-started/quick-start/#step-3-add-a-theme">Step 3: Add a Theme</a></p>

<pre><code class="language-shell">git submodule add https://github.com/olOwOlo/hugo-theme-even themes/even
</code></pre>

<h3 id="hugo-github-page">Hugo -&gt; GitHub Page</h3>

<h4 id="最终目录结构">最终目录结构</h4>

<p>org.wenyongzheng.com/ #全部文件</p>

<ul>
<li>yongzhengw.github.io #Hugo project

<ul>
<li>content/posts(ox-hugo export 放置生成的 markdown 文件，gitignore)</li>
<li>public(yongzhengw.github.io)</li>
</ul></li>
</ul>

<h4 id="error-repository-not-found">Error: Repository not found</h4>

<p>删除之前帐号的 ssh 完成</p>

<h2 id="2-dot-安装-ox-hugo">2. 安装 ox-hugo</h2>

<p>参考: <a href="https://ox-hugo.scripter.co/#installation">Installation</a></p>

<p>安装完成后，执行 <code>C-c C-e</code> 没看到 ox-hugo 选项，需在配置中修改 <code>dotspacemacs-additional-packages '(ox-hugo)</code>  <br />
参考: <a href="https://github.com/kaushalmodi/ox-hugo/issues/82">Issue with having ox-hugo installed on Spacemacs</a></p>

<h2 id="ox-hugo-用法">ox-hugo 用法</h2>

<h3 id="添加目录树">添加目录树</h3>

<p>默认使用 Hugo 生成 TOC, 而不是 Org</p>

<h4 id="设置使用-org-生成-toc">设置使用 Org 生成 TOC</h4>

<p>参考: <a href="https://ox-hugo.scripter.co/doc/org-toc/">Table of Contents</a></p>

<ul>
<li><p>方法一</p>

<p>在文件头加入 <code>#+OPTIONS: toc:t</code> <br />
<code>#+OPTIONS: toc:2</code> 2 表示层级 <br /></p></li>

<li><p>方法二</p>

<p><code>M-x</code> 输入 <code>customize-option</code> 输入 <code>org-hugo-export-with-toc</code> 进入到变量设置页面，鼠标点击修改 value 即可。</p></li>

<li><p>报错 <code>Symbol’s value as variable is void: org-enable-table-editor</code></p>

<p>新版的 emacs 把这个变量去掉了，<a href="https://orgmode.org/Changes.html">Emacs 9.1 的修改</a></p>

<blockquote>
<p>org-enable-table-editor is removed. <br />
Setting it to a nil value broke some other features (e.g., speed keys).</p>
</blockquote>

<ul>
<li><p>设置 <code>org-enable-table-editor</code></p>

<p>把 <code>dotspacemacs-configuration-layers</code> 中的 <code>org</code> 改成</p>

<pre><code class="language-emacs">(org :variables
          org-enable-reveal-js-support t
          org-enable-table-editor t)
</code></pre></li>
</ul></li>

<li><p>报错 <code>Symbol’s function definition is void: org-export-toc-entry-backend</code></p>

<p>在 <code>user-config</code> 中添加</p>

<pre><code class="language-emacs">(defun org-export-toc-entry-backend (parent &amp;rest transcoders)
  &quot;Return an export back-end appropriate for table of contents entries.

PARENT is an export back-end the returned back-end should inherit
from.

By default, the back-end removes footnote references and targets.
It also changes links and radio targets into regular text.
TRANSCODERS optional argument, when non-nil, specifies additional
transcoders.  A transcoder follows the pattern (TYPE . FUNCTION)
where type is an element or object type and FUNCTION the function
transcoding it.&quot;
  (declare (indent 1))
  (org-export-create-backend
   :parent parent
   :transcoders
   (append transcoders
     `((footnote-reference . ,#'ignore)
       (link . ,(lambda (l c i)
      (or c
          (org-export-data
           (org-element-property :raw-link l)
           i))))
       (radio-target . ,(lambda (_r c _) c))
       (target . ,#'ignore)))))
</code></pre>

<p>参考: <a href="https://skyforge.khazad-dum.tech/phineas/rocking%5Fdotfiles/blob/fc305531e4f30eaaea05956b1d69e06be49b976f/.emacs.d/elpa/org-20180618/ox.el">emacs conf</a></p></li>
</ul>

<h3 id="ox-hugo-基本用法">ox-hugo 基本用法</h3>

<h3 id="指令-日期等">指令，日期等</h3>

<pre><code class="language-emacs">#+title: 2017-07-24
#+date: 2017-07-24
#+hugo_publishdate: 2018-01-26
#+hugo_expirydate: 2999-01-01
#+hugo_auto_set_lastmod: t
#+hugo_tags: toto zulu
#+hugo_categories: x y
#+hugo_draft: true
#+hugo_draft: false
#+hugo_weight: 123
#+hugo_weight: :tags 123
#+hugo_weight: :categories 123
#+hugo_menu: :menu foo :weight 123
</code></pre>

<p>参考: <a href="https://ox-hugo.scripter.co/doc/org-meta-data-to-hugo-front-matter/#for-file-based-exports">Doc</a></p>

<h3 id="部分不导出-比如密钥"><span class="org-todo todo TODO">TODO</span> 部分不导出，比如密钥</h3>

<ol>
<li>可以使用 tags</li>
<li>drawer 的用法</li>
</ol>

<pre><code class="language-emacs">** Main Section
:OUTLINE:
1. Sed eget arcu nec ligula tristique pretium sit amet eget justo.
  1. Cras lacinia at odio at tincidunt.
  2. Maecenas vitae risus nec arcu pulvinar hendrerit.
      1. Class aptent taciti sociosqu ad litora torquent per conubia
        nostra, per inceptos himenaeos.
2. Quisque pellentesque placerat elementum.
  1. Nam arcu felis, tempor id ex ac, sollicitudin tristique nisl.
  2. Maecenas facilisis dui at neque vulputate rutrum.
  3. Nam eleifend nunc accumsan lorem imperdiet vulputate.
3. Donec eu orci vel eros blandit tincidunt eu pulvinar leo.
:END:

Vivamus odio mauris, fermentum semper tempus id, scelerisque vel
metus. Aliquam risus lectus, lobortis ut risus eu, facilisis
consectetur diam. Sed euismod ullamcorper erat, at lacinia enim
lacinia eget. Nam sed justo dapibus, tempus ipsum et, sagittis
ex. Integer interdum consequat augue pellentesque fermentum. Integer
vehicula lorem sed purus vulputate, vitae cursus risus
eleifend. Lorem ipsum dolor sit amet, consectetur adipiscing elit.
</code></pre>

<ol>
<li>在 org 文件行头 `#+OPTIONS: d:nil`</li>
<li>默认不导出 drawer</li>
<li>快捷键 `C-c C-x d`</li>
<li><a href="https://github.com/lujun9972/emacs-document/blob/master/org-mode/%E7%94%A8Org-mode%E5%86%99%E4%BD%9C-%E5%A6%82%E4%BD%95%E5%AF%BC%E5%87%BA%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9.org#inserting-drawers">参考</a></li>
</ol>

<h3 id="新建-org-file-自动插入">新建 org-file 自动插入</h3>

<h3 id="yasnippet">YASnippet</h3>

<h3 id="浏览记录设置">浏览记录设置</h3>

<h3 id="this-is-a-headline">This is a headline</h3>

<p>Still outside the drawer</p>

<p>This is inside the drawer.</p>

<p>After the drawer.</p>

<p>#+ 这话是注释？</p>

<h3 id="main-section">Main Section</h3>

<ol>
<li>Sed eget arcu nec ligula tristique pretium sit amet eget justo.

<ol>
<li>Cras lacinia at odio at tincidunt.</li>
<li>Maecenas vitae risus nec arcu pulvinar hendrerit.

<ol>
<li>Class aptent taciti sociosqu ad litora torquent per conubia
nostra, per inceptos himenaeos.</li>
</ol></li>
</ol></li>
<li>Quisque pellentesque placerat elementum.

<ol>
<li>Nam arcu felis, tempor id ex ac, sollicitudin tristique nisl.</li>
<li>Maecenas facilisis dui at neque vulputate rutrum.</li>
<li>Nam eleifend nunc accumsan lorem imperdiet vulputate.</li>
</ol></li>
<li>Donec eu orci vel eros blandit tincidunt eu pulvinar leo.</li>
</ol>

<p>Vivamus odio mauris, fermentum semper tempus id, scelerisque vel
metus. Aliquam risus lectus, lobortis ut risus eu, facilisis
consectetur diam. Sed euismod ullamcorper erat, at lacinia enim
lacinia eget. Nam sed justo dapibus, tempus ipsum et, sagittis
ex. Integer interdum consequat augue pellentesque fermentum. Integer
vehicula lorem sed purus vulputate, vitae cursus risus
eleifend. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>

<h3 id="ox-hugo-调-bug">ox-hugo 调 bug</h3>

<p>M-x org-hugo-debug-info 能看到基本的信息</p>

<p>换行，行末添加 <code>\\</code>
引用 &lt;s TAB</p>

<h3 id="ox-hugo-与-主题目录冲突">ox-hugo 与 主题目录冲突</h3>

<p>even 默认是 content/post/ 下的文章，ox-hugo 默认是 content/posts/ 下的文章</p>

<h4 id="修改-ox-hugo-默认-export-path"><a href="https://ox-hugo.scripter.co/doc/hugo-section/#default">修改 ox-hugo 默认 export path</a></h4>

<p>1.</p>

<h2 id="写作的完整流程">写作的完整流程</h2>

<ol>
<li>org file 写作完毕</li>
<li>添加 export 行头，YHSnippet</li>
<li><code>C-c C-e H h</code> 导出</li>
<li>hugo server 预览效果</li>
<li>执行脚本(发布到 github page)</li>
</ol>

    </div>

    
    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">Jim</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">2018-10-06</span>
  </p>
  
  
</div>

    
    

    <footer class="post-footer">
      

      
      <nav class="post-nav">
        
        
          <a class="next" href="/post/my/">
            <span class="next-text nav-default">My</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        
  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:your@email.com" class="iconfont icon-email" title="email"></a>
      <a href="http://localhost:1313" class="iconfont icon-stack-overflow" title="stack-overflow"></a>
      <a href="http://localhost:1313" class="iconfont icon-twitter" title="twitter"></a>
      <a href="http://localhost:1313" class="iconfont icon-facebook" title="facebook"></a>
      <a href="http://localhost:1313" class="iconfont icon-linkedin" title="linkedin"></a>
      <a href="http://localhost:1313" class="iconfont icon-google" title="google"></a>
      <a href="http://localhost:1313" class="iconfont icon-github" title="github"></a>
      <a href="http://localhost:1313" class="iconfont icon-weibo" title="weibo"></a>
      <a href="http://localhost:1313" class="iconfont icon-zhihu" title="zhihu"></a>
      <a href="http://localhost:1313" class="iconfont icon-douban" title="douban"></a>
      <a href="http://localhost:1313" class="iconfont icon-pocket" title="pocket"></a>
      <a href="http://localhost:1313" class="iconfont icon-tumblr" title="tumblr"></a>
      <a href="http://localhost:1313" class="iconfont icon-instagram" title="instagram"></a>
  <a href="http://localhost:1313/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    
      2017 - 
    2018
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">olOwOlo</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
<script src="/lib/highlight/highlight.pack.js?v=20171001"></script><script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>


<script type="text/javascript" src="/dist/even.min.js?v=3.2.0"></script>








</body>
</html>
